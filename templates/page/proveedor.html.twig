{# ===================================================================== #}
{#  P√°gina de contacto para proveedores - Accesibilidad WCAG 2.1 AA     #}
{# ===================================================================== #}
{% extends 'base.html.twig' %}

{% block title %}Soy Proveedor - Economik0{% endblock %}

{% block body %}
<section class="container py-5" aria-labelledby="proveedor-heading">
    <article class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card glass-card shadow-lg">
                {# ========== ENCABEZADO ========== #}
                <header class="card-body text-center">
                    <h1 id="proveedor-heading" class="card-title fw-bold">
                        ¬øQuieres vender en Economik<span class="text-accent">0</span>?
                    </h1>
                    <p class="text-muted lead">
                        Conecta directamente con consumidores sin intermediarios
                    </p>
                </header>

                <div class="card-body p-4">
                    {# ========== MENSAJES FLASH ========== #}
                    {% for message in app.flashes('success') %}
                        <div class="alert alert-success" role="alert" aria-live="polite">
                            <span aria-hidden="true">‚úÖ</span>
                            {{ message }}
                        </div>
                    {% endfor %}

                    {% for message in app.flashes('error') %}
                        <div class="alert alert-danger" role="alert" aria-live="assertive">
                            <span aria-hidden="true">‚ùå</span>
                            {{ message }}
                        </div>
                    {% endfor %}

                    {# ========== FORMULARIO DE CONTACTO ========== #}
                    {{ form_start(form, {
                        'attr': {
                            'novalidate': 'novalidate',
                            'aria-label': 'Formulario de contacto para proveedores'
                        }
                    }) }}

                        {# Indicador de campos requeridos #}
                        <p class="text-muted small mb-4">
                            <span class="text-danger" aria-hidden="true">*</span>
                            Los campos marcados son obligatorios
                        </p>

                        {# Campo Nombre #}
                        <div class="mb-4">
                            {{ form_label(form.FirstName, 'Tu nombre', {
                                'label_attr': {'class': 'form-label fw-semibold'}
                            }) }}
                            <span class="text-danger" aria-hidden="true">*</span>
                            {{ form_widget(form.FirstName, {
                                'attr': {
                                    'class': 'form-control form-control-lg',
                                    'placeholder': 'Ej: Juan',
                                    'aria-required': 'true',
                                    'aria-describedby': 'firstname-errors'
                                }
                            }) }}
                            <div id="firstname-errors" role="alert" aria-live="polite">
                                {{ form_errors(form.FirstName) }}
                            </div>
                        </div>

                        {# Campo Apellidos #}
                        <div class="mb-4">
                            {{ form_label(form.lastName, 'Apellidos', {
                                'label_attr': {'class': 'form-label fw-semibold'}
                            }) }}
                            <span class="text-danger" aria-hidden="true">*</span>
                            {{ form_widget(form.lastName, {
                                'attr': {
                                    'class': 'form-control form-control-lg',
                                    'placeholder': 'Ej: Garc√≠a L√≥pez',
                                    'aria-required': 'true',
                                    'aria-describedby': 'lastname-errors'
                                }
                            }) }}
                            <div id="lastname-errors" role="alert" aria-live="polite">
                                {{ form_errors(form.lastName) }}
                            </div>
                        </div>

                        {# Campo Empresa #}
                        <div class="mb-4">
                            {{ form_label(form.name, 'Nombre de empresa', {
                                'label_attr': {'class': 'form-label fw-semibold'}
                            }) }}
                            <span class="text-danger" aria-hidden="true">*</span>
                            {{ form_widget(form.name, {
                                'attr': {
                                    'class': 'form-control form-control-lg',
                                    'placeholder': 'Ej: Huerta La Esperanza',
                                    'aria-required': 'true',
                                    'aria-describedby': 'name-errors'
                                }
                            }) }}
                            <div id="name-errors" role="alert" aria-live="polite">
                                {{ form_errors(form.name) }}
                            </div>
                        </div>

                        {# Campo Email #}
                        <div class="mb-4">
                            {{ form_label(form.mail, 'Correo electr√≥nico', {
                                'label_attr': {'class': 'form-label fw-semibold'}
                            }) }}
                            <span class="text-danger" aria-hidden="true">*</span>
                            {{ form_widget(form.mail, {
                                'attr': {
                                    'class': 'form-control form-control-lg',
                                    'placeholder': 'tu@email.com',
                                    'autocomplete': 'email',
                                    'aria-required': 'true',
                                    'aria-describedby': 'mail-help mail-errors'
                                }
                            }) }}
                            <small id="mail-help" class="form-text text-muted">
                                Te contactaremos por este medio
                            </small>
                            <div id="mail-errors" role="alert" aria-live="polite">
                                {{ form_errors(form.mail) }}
                            </div>
                        </div>

                        {# Campo Mensaje #}
                        <div class="mb-4">
                            {{ form_label(form.message, 'Cu√©ntanos sobre ti', {
                                'label_attr': {'class': 'form-label fw-semibold'}
                            }) }}
                            <span class="text-danger" aria-hidden="true">*</span>
                            {{ form_widget(form.message, {
                                'attr': {
                                    'class': 'form-control',
                                    'rows': '5',
                                    'placeholder': '¬øQu√© productos ofreces? ¬øDe d√≥nde eres?',
                                    'aria-required': 'true',
                                    'aria-describedby': 'message-help message-errors'
                                }
                            }) }}
                            <small id="message-help" class="form-text text-muted">
                                Describe tu actividad y productos que ofreces
                            </small>
                            <div id="message-errors" role="alert" aria-live="polite">
                                {{ form_errors(form.message) }}
                            </div>
                        </div>

                        {# Campo Imagen (opcional) #}
                        {% if form.img is defined %}
                        <div class="mb-4">
                            {{ form_label(form.img, 'Imagen o documento (opcional)', {
                                'label_attr': {'class': 'form-label fw-semibold'}
                            }) }}
                            {{ form_widget(form.img, {
                                'attr': {
                                    'class': 'form-control',
                                    'aria-describedby': 'img-help img-errors'
                                }
                            }) }}
                            <small id="img-help" class="form-text text-muted">
                                Formatos: JPG, PNG, PDF. Tama√±o m√°ximo: 2MB
                            </small>
                            <div id="img-errors" role="alert" aria-live="polite">
                                {{ form_errors(form.img) }}
                            </div>
                        </div>
                        {% endif %}

                        {# Bot√≥n de env√≠o #}
                        <button type="submit" class="btn btn-primary btn-lg w-100">
                            <span aria-hidden="true">üì®</span>
                            Enviar Solicitud
                        </button>

                    {{ form_end(form) }}
                </div>
            </div>
        </div>
    </article>
</section>
{% endblock %}
