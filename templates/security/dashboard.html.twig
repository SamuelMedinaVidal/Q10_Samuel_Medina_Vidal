{# ===================================================================== #}
{#  Dashboard de usuario - Accesibilidad WCAG 2.1 AA                    #}
{# ===================================================================== #}
{% extends 'base.html.twig' %}

{% block title %}Mi Panel - Economik0{% endblock %}

{% block body %}
<section class="container py-5" aria-labelledby="dashboard-heading">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <article class="card glass-card shadow-lg p-4">
                {# ========== ENCABEZADO ========== #}
                <header class="card-body text-center">
                    <h1 id="dashboard-heading" class="card-title fw-bold">
                        ¬°Bienvenido, <span class="text-accent">{{ app.user.email }}</span>!
                    </h1>
                    <p class="text-muted">Panel de control de tu cuenta</p>
                </header>

                {# ========== INFORMACI√ìN DEL USUARIO ========== #}
                <section aria-labelledby="info-heading" class="card-body">
                    <h2 id="info-heading" class="h4 fw-bold mb-4">
                        <span aria-hidden="true">üë§</span>
                        Tu Informaci√≥n
                    </h2>
                    
                    <dl class="row">
                        <dt class="col-sm-4 text-muted">Correo electr√≥nico:</dt>
                        <dd class="col-sm-8 fw-semibold">{{ app.user.email }}</dd>
                        
                        <dt class="col-sm-4 text-muted">Tipo de cuenta:</dt>
                        <dd class="col-sm-8">
                            {% if is_granted('ROLE_PROVEEDOR') %}
                                <span class="badge bg-success fs-6">
                                    <span aria-hidden="true">üåæ</span>
                                    Proveedor
                                </span>
                            {% else %}
                                <span class="badge bg-primary fs-6">
                                    <span aria-hidden="true">üõí</span>
                                    Cliente
                                </span>
                            {% endif %}
                        </dd>
                    </dl>
                </section>

                {# ========== ACCIONES R√ÅPIDAS ========== #}
                <section aria-labelledby="acciones-heading" class="card-body border-top">
                    <h2 id="acciones-heading" class="h4 fw-bold mb-4">
                        <span aria-hidden="true">‚ö°</span>
                        Acciones R√°pidas
                    </h2>
                    
                    <nav aria-label="Acciones del dashboard" class="d-flex flex-wrap gap-3">
                        {% if is_granted('ROLE_PROVEEDOR') %}
                            <a href="{{ path('app_admin_productos') }}" class="btn btn-primary">
                                <span aria-hidden="true">üì¶</span>
                                Mi Inventario
                            </a>
                            <a href="{{ path('app_admin_producto_nuevo') }}" class="btn btn-outline-primary">
                                <span aria-hidden="true">+</span>
                                A√±adir Producto
                            </a>
                        {% else %}
                            <a href="{{ path('app_tienda') }}" class="btn btn-primary">
                                <span aria-hidden="true">üõçÔ∏è</span>
                                Ir a la Tienda
                            </a>
                            <a href="{{ path('app_cart') }}" class="btn btn-outline-primary">
                                <span aria-hidden="true">üõí</span>
                                Mi Carrito
                            </a>
                        {% endif %}
                    </nav>
                </section>
            </article>
        </div>
    </div>
</section>
{% endblock %}
